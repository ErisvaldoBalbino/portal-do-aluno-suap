{% extends 'portal_estudante/base.html' %}
{% load static %}

{% block title %}Login - Portal do Aluno SUAP{% endblock %}

{% block body_class %}login-page{% endblock %}

{% block extra_css %}
<link href="{% static 'css/login.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}


<!-- Banner Informativo -->
<div class="info-banner">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <i class="fas fa-info-circle me-2"></i>
                <span>Estou trabalhando para incluir suporte aos alunos dos cursos técnicos, atualmente o sistema considera apenas os cursos superiores para boletim e relatórios. Se você é aluno de algum curso técnico e gostaria de ajudar a melhorar o sistema, por favor, entre em contato através do email: <a href="mailto:balbino.junior@escolar.ifrn.edu.br" class="alert-link">balbino.junior@escolar.ifrn.edu.br</a></span>                
            </div>
        </div>
    </div>
</div>

<div class="login-container">
    <div class="login-card card shadow">
        <div class="card-body">
            <div class="text-center">
                <h2 class="login-title">Portal do Aluno</h2>
                <p class="login-subtitle">Acesse com sua conta do SUAP</p>
            </div>
            
            <div class="d-grid gap-2">
                <a href="{% url 'portal_estudante:login' %}?auth=suap" 
                   class="btn btn-primary btn-lg login-button" 
                   onclick="showLoading(this)">
                    <span class="normal-state">
                        <i class="fas fa-sign-in-alt me-2"></i>
                        Entrar com SUAP
                    </span>
                    <span class="loading-state">
                        <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                        Conectando...
                    </span>
                </a>
            </div>

            <div class="login-footer text-center">
                <p class="mb-4">
                    Ao clicar, você será redirecionado para a página de autenticação do SUAP
                </p>
                <a href="https://github.com/ErisvaldoBalbino/portal-do-aluno-suap" 
                   target="_blank" 
                   class="github-link">
                    <i class="fab fa-github"></i> Ver no GitHub
                </a>   
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function showLoading(button) {
        const normalState = button.querySelector('.normal-state');
        const loadingState = button.querySelector('.loading-state');
        
        normalState.style.display = 'none';
        loadingState.style.display = 'inline-block';
        button.disabled = true;
    }
</script>
{% endblock %} 